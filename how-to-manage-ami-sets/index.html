<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D,%22class%22:%7B%22ssr%22:%22h-full%22%7D%7D">
  <head>
    <title>How to manage AMI sets  | Ana Rute</title><meta name="gridsome:hash" content="752c6ce69aa6bc2761e11346ad248f842b46c834"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="After finishing the first version of the AMI sets entity, now we need to be able to manage them.
Taskcluster has already a set of tools to manage its components and elements: the taskcluster tools. In order to manage the AMI sets it was natural to build a tool for that. At first, ..."><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="How to manage AMI sets"><meta data-vue-tag="ssr" property="og:description" content="After finishing the first version of the AMI sets entity, now we need to be able to manage them.
Taskcluster has already a set of tools to manage its components and elements: the taskcluster tools. In order to manage the AMI sets it was natural to build a tool for that. At first, ..."><meta data-vue-tag="ssr" property="og:url" content="https://anarute.com/how-to-manage-ami-sets/"><meta data-vue-tag="ssr" property="article:published_time" content="2024-02-24"><meta data-vue-tag="ssr" property="og:image" content="https://anarute.com/images/card.png"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="How to manage AMI sets"><meta data-vue-tag="ssr" name="twitter:description" content="After finishing the first version of the AMI sets entity, now we need to be able to manage them.
Taskcluster has already a set of tools to manage its components and elements: the taskcluster tools. In order to manage the AMI sets it was natural to build a tool for that. At first, ..."><meta data-vue-tag="ssr" name="twitter:site" content="@ana_rute"><meta data-vue-tag="ssr" name="twitter:creator" content="@ana_rute"><meta data-vue-tag="ssr" name="twitter:image" content="https://anarute.com/images/card.png"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.1dbd3df5a133ad4bfceee6f845dec19f.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.1dbd3df5a133ad4bfceee6f845dec19f.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.1dbd3df5a133ad4bfceee6f845dec19f.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.1dbd3df5a133ad4bfceee6f845dec19f.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:400,700%7CCardo"><link rel="preload" href="/assets/css/10.styles.71c6ed44.css" as="style"><link rel="preload" href="/assets/js/app.0aaf7b86.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.910010bc.js" as="script"><link rel="prefetch" href="/assets/js/12.bf723347.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.f874ac3a.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.d8cccfac.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.c4d60db6.js"><link rel="prefetch" href="/assets/js/page--src--pages--talks-vue.fb1d0092.js"><link rel="prefetch" href="/assets/js/page--src--pages--uses-vue.3f17494c.js"><link rel="prefetch" href="/assets/js/page--src--templates--author-vue.4fa776a2.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.18e80999.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--index-vue~page--src--templates--author-vue~page--src--templates--post-vue~~a0fae544.81352eac.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--post-vue.989aa289.js"><link rel="stylesheet" href="/assets/css/10.styles.71c6ed44.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body class="antialiased font-serif" data-vue-tag="%7B%22class%22:%7B%22ssr%22:%22antialiased%20font-serif%22%7D%7D">
    <div data-server-rendered="true" id="app" class="layout"><section class="menu"><div><nav><ul><li><a href="/" class="active">posts</a></li><li><a href="/about/">about</a></li><li><a href="/uses/">setup</a></li><li><a href="/talks/">talks</a></li><li><a href="/feed.xml">RSS Feed</a></li></ul></nav></div></section><main><header><div><div><h1>How to manage AMI sets</h1><p><span><a href="/author/anarute/">anarute</a>
          â€¢
        </span><time datetime="2016-07-22 14:30:43">22 July, 2016</time></p></div></div></header><article><div role="alert" class="warning">
        This post is over a year old, some of this information may be out of
        date.
      </div><div><p>After finishing the first version of the <a href="http://anarute.com/the-amiset-entity/" target="_blank" rel="nofollow noopener noreferrer">AMI sets entity</a>, now we need to be able to manage them.</p>
<p>Taskcluster has already a set of tools to manage its components and elements: the <a href="https://tools.taskcluster.net/" target="_blank" rel="nofollow noopener noreferrer">taskcluster tools</a>. In order to manage the AMI sets it was natural to build a tool for that. At first, our main goal is to build a minimal tool that allows us to list all the AMI sets known to the AWS provisioner and to add, edit and delete AMI sets.</p>
<p>The final shape of an AMI set is this:</p>
<pre>"amis": 
  [
    {
      "region": "us-west-1",
      "hvm": "ami-111",
      "pv": "ami-222"
    }
  ]
</pre>
<p>The ideal way to manage this is to allow the user to edit each field separately and check if the AMIs are valid automatically, but for now we are editing it as a JSON object since the back end already checks if the data is valid.</p>
<p>The taskcluster tools are built with <a href="https://facebook.github.io/react/" target="_blank" rel="nofollow noopener noreferrer">React</a> and before this project I have never built anything with it. So to start, there's no better way than compare how all the other tools are built. I knew that I needed to figure out how to list the amiSets and how to embed a code editor to be used to edit and create amiSets, so my main examples were the <a href="https://tools.taskcluster.net/auth/roles/" target="_blank" rel="nofollow noopener noreferrer">Roles tool</a> and the text editor from <a href="https://tools.taskcluster.net/task-creator/" target="_blank" rel="nofollow noopener noreferrer">Task Creator tool</a>. The editor used in taskcluster tools is <a href="http://codemirror.net/" target="_blank" rel="nofollow noopener noreferrer">CodeMirror,</a> a text editor built in javascript for the browser.</p>
<p>My first step was to build the add amiSet function - after all, without amiSets I cannot test any other endpoint. I started to see progress when apparently no errors showed up when trying to add an amiSet, but to check if it really worked I needed the listing function, then the view function. After making this work, edit and delete were the final ones. A <a href="https://github.com/taskcluster/taskcluster-tools/pull/121" target="_blank" rel="nofollow noopener noreferrer">first version</a> is already being reviewed and hopefully it will be published soon. We still have a lot of improvements to make but it seems good enough to move forward and start to incorporate the amiSets in the AWS provisioner architecture.</p>
<p>Even after testing the AMI sets entity endpoints in the back end, I wasn't sure if it was really working because I could only see that it passed the tests that I have built, but I couldn't really see the amiSets (<em>and I must say I'm a very visual person</em>) but now with the tool I finally can see them, and it is grateful to see that what you're doing is working! - until it breaks something, of course.</p>
</div><footer><div><a href="/tag/outreachy/" class="tag">
            outreachy
          </a><a href="/tag/FOSS/" class="tag">
            FOSS
          </a><a href="/tag/taskcluster/" class="tag">
            taskcluster
          </a><a href="/tag/Mozilla/" class="tag">
            Mozilla
          </a></div></footer><div id="disqus_thread"></div></article></main></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"How to manage AMI sets","slug":"how-to-manage-ami-sets","datetime":"2016-07-22 14:30:43","content":"\u003Cp\u003EAfter finishing the first version of the \u003Ca href=\"http:\u002F\u002Fanarute.com\u002Fthe-amiset-entity\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EAMI sets entity\u003C\u002Fa\u003E, now we need to be able to manage them.\u003C\u002Fp\u003E\n\u003Cp\u003ETaskcluster has already a set of tools to manage its components and elements: the \u003Ca href=\"https:\u002F\u002Ftools.taskcluster.net\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Etaskcluster tools\u003C\u002Fa\u003E. In order to manage the AMI sets it was natural to build a tool for that. At first, our main goal is to build a minimal tool that allows us to list all the AMI sets known to the AWS provisioner and to add, edit and delete AMI sets.\u003C\u002Fp\u003E\n\u003Cp\u003EThe final shape of an AMI set is this:\u003C\u002Fp\u003E\n\u003Cpre\u003E\"amis\": \n  [\n    {\n      \"region\": \"us-west-1\",\n      \"hvm\": \"ami-111\",\n      \"pv\": \"ami-222\"\n    }\n  ]\n\u003C\u002Fpre\u003E\n\u003Cp\u003EThe ideal way to manage this is to allow the user to edit each field separately and check if the AMIs are valid automatically, but for now we are editing it as a JSON object since the back end already checks if the data is valid.\u003C\u002Fp\u003E\n\u003Cp\u003EThe taskcluster tools are built with \u003Ca href=\"https:\u002F\u002Ffacebook.github.io\u002Freact\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EReact\u003C\u002Fa\u003E and before this project I have never built anything with it. So to start, there's no better way than compare how all the other tools are built. I knew that I needed to figure out how to list the amiSets and how to embed a code editor to be used to edit and create amiSets, so my main examples were the \u003Ca href=\"https:\u002F\u002Ftools.taskcluster.net\u002Fauth\u002Froles\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ERoles tool\u003C\u002Fa\u003E and the text editor from \u003Ca href=\"https:\u002F\u002Ftools.taskcluster.net\u002Ftask-creator\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ETask Creator tool\u003C\u002Fa\u003E. The editor used in taskcluster tools is \u003Ca href=\"http:\u002F\u002Fcodemirror.net\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ECodeMirror,\u003C\u002Fa\u003E a text editor built in javascript for the browser.\u003C\u002Fp\u003E\n\u003Cp\u003EMy first step was to build the add amiSet function - after all, without amiSets I cannot test any other endpoint. I started to see progress when apparently no errors showed up when trying to add an amiSet, but to check if it really worked I needed the listing function, then the view function. After making this work, edit and delete were the final ones. A \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftaskcluster\u002Ftaskcluster-tools\u002Fpull\u002F121\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Efirst version\u003C\u002Fa\u003E is already being reviewed and hopefully it will be published soon. We still have a lot of improvements to make but it seems good enough to move forward and start to incorporate the amiSets in the AWS provisioner architecture.\u003C\u002Fp\u003E\n\u003Cp\u003EEven after testing the AMI sets entity endpoints in the back end, I wasn't sure if it was really working because I could only see that it passed the tests that I have built, but I couldn't really see the amiSets (\u003Cem\u003Eand I must say I'm a very visual person\u003C\u002Fem\u003E) but now with the tool I finally can see them, and it is grateful to see that what you're doing is working! - until it breaks something, of course.\u003C\u002Fp\u003E\n","description":"","cover":"","fullscreen":false,"author":{"id":"anarute","title":"anarute","path":"\u002Fauthor\u002Fanarute\u002F"},"tags":[{"id":"outreachy","title":"outreachy","path":"\u002Ftag\u002Foutreachy\u002F"},{"id":"FOSS","title":"FOSS","path":"\u002Ftag\u002FFOSS\u002F"},{"id":"taskcluster","title":"taskcluster","path":"\u002Ftag\u002Ftaskcluster\u002F"},{"id":"Mozilla","title":"Mozilla","path":"\u002Ftag\u002FMozilla\u002F"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.0aaf7b86.js" defer></script><script src="/assets/js/page--src--templates--post-vue.910010bc.js" defer></script>
  </body>
</html>
