<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="lang,class">
  <head>
    <title data-vue-tag="true">How to manage AMI sets  | Ana Rute</title><meta data-vue-tag="true" charset="utf-8"><meta data-vue-tag="true" name="generator" content="Gridsome v0.6.7"><meta data-vue-tag="true" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="true" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="true" data-key="description" name="description" content="After finishing the first version of the AMI sets entity, now we need to be able to manage them.
Taskcluster has already a set of tools to manage its components and elements: the taskcluster tools. In order to manage the AMI sets it was natural to build a tool for that. At first, ..."><meta data-vue-tag="true" property="og:type" content="article"><meta data-vue-tag="true" property="og:title" content="How to manage AMI sets"><meta data-vue-tag="true" property="og:description" content="After finishing the first version of the AMI sets entity, now we need to be able to manage them.
Taskcluster has already a set of tools to manage its components and elements: the taskcluster tools. In order to manage the AMI sets it was natural to build a tool for that. At first, ..."><meta data-vue-tag="true" property="og:url" content="https://anarute.com/how-to-manage-ami-sets/"><meta data-vue-tag="true" property="article:published_time" content="2020-07-25"><meta data-vue-tag="true" property="og:image" content="https://anarute.com/images/card.png"><meta data-vue-tag="true" name="twitter:card" content="summary_large_image"><meta data-vue-tag="true" name="twitter:title" content="How to manage AMI sets"><meta data-vue-tag="true" name="twitter:description" content="After finishing the first version of the AMI sets entity, now we need to be able to manage them.
Taskcluster has already a set of tools to manage its components and elements: the taskcluster tools. In order to manage the AMI sets it was natural to build a tool for that. At first, ..."><meta data-vue-tag="true" name="twitter:site" content="@ana_rute"><meta data-vue-tag="true" name="twitter:creator" content="@ana_rute"><meta data-vue-tag="true" name="twitter:image" content="https://anarute.com/images/card.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.efcb514.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.efcb514.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.efcb514.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.efcb514.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.efcb514.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.efcb514.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.efcb514.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.efcb514.png"><link data-vue-tag="true" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:400,700%7CCardo"><noscript data-vue-tag="true" ><style>.g-image--loading{display:none;}</style></noscript><link rel="preload" href="/assets/css/8.styles.387d894c.css" as="style"><link rel="preload" href="/assets/js/app.c1188a8c.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.0cc5932c.js" as="script"><link rel="prefetch" href="/assets/js/10.ae06d815.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.3a4eb3f4.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.3681870e.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.d0aa4569.js"><link rel="prefetch" href="/assets/js/page--src--templates--author-vue.05519001.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.df3e5d22.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--index-vue~page--src--templates--author-vue~page--src--templates--post-vue~~a0fae544.1140ed21.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--post-vue.719c1265.js"><link rel="stylesheet" href="/assets/css/8.styles.387d894c.css">
  </head>
  <body class="antialiased font-serif" data-vue-tag="class">
    <div data-server-rendered="true" id="app"><main><header><div class="pt-24"><div class="max-w-xl md:max-w-3xl xl:max-w-4xl mx-auto text-center px-6"><p class="text-gray-700 text-xs mb-2 uppercase">2 min read</p><h1 class="text-3xl sm:text-5xl leading-tight font-sans font-bold mb-2 text-black">How to manage AMI sets</h1><p class="text-gray-700"><span><a href="/author/anarute/" class="text-gray-700 border-b border-transparent hover:border-gray-400 transition-border-color">Anarute</a> •
        </span><time datetime="2016-07-22 14:30:43" class="capitalize">22 July, 2016</time></p></div></div><nav class="absolute top-0 left-0 z-20 mt-6 ml-6"><a href="/" class="text-sm border opacity-75 hover:opacity-100 rounded-full px-4 py-2 transition-opacity active text-gray-900 border-gray-400">← Home</a></nav></header><article class="max-w-xl md:max-w-2xl xl:max-w-3xl mx-auto px-6 sm:px-12 pt-16"><div role="alert" class="leading-normal p-4 md:mx-6 mb-12 bg-orange-100 border-l-4 border-orange-500 text-orange-900">
        This post is over a year old, some of this information may be out of date.
      </div><div class="markdown text-lg leading-normal text-gray-700 pb-10"><p>After finishing the first version of the <a href="http://anarute.com/the-amiset-entity/" target="_blank" rel="nofollow noopener noreferrer">AMI sets entity</a>, now we need to be able to manage them.</p>
<p>Taskcluster has already a set of tools to manage its components and elements: the <a href="https://tools.taskcluster.net/" target="_blank" rel="nofollow noopener noreferrer">taskcluster tools</a>. In order to manage the AMI sets it was natural to build a tool for that. At first, our main goal is to build a minimal tool that allows us to list all the AMI sets known to the AWS provisioner and to add, edit and delete AMI sets.</p>
<p>The final shape of an AMI set is this:</p>
<pre>"amis": 
  [
    {
      "region": "us-west-1",
      "hvm": "ami-111",
      "pv": "ami-222"
    }
  ]
</pre>
<p>The ideal way to manage this is to allow the user to edit each field separately and check if the AMIs are valid automatically, but for now we are editing it as a JSON object since the back end already checks if the data is valid.</p>
<p>The taskcluster tools are built with <a href="https://facebook.github.io/react/" target="_blank" rel="nofollow noopener noreferrer">React</a> and before this project I have never built anything with it. So to start, there's no better way than compare how all the other tools are built. I knew that I needed to figure out how to list the amiSets and how to embed a code editor to be used to edit and create amiSets, so my main examples were the <a href="https://tools.taskcluster.net/auth/roles/" target="_blank" rel="nofollow noopener noreferrer">Roles tool</a> and the text editor from <a href="https://tools.taskcluster.net/task-creator/" target="_blank" rel="nofollow noopener noreferrer">Task Creator tool</a>. The editor used in taskcluster tools is <a href="http://codemirror.net/" target="_blank" rel="nofollow noopener noreferrer">CodeMirror,</a> a text editor built in javascript for the browser.</p>
<p>My first step was to build the add amiSet function - after all, without amiSets I cannot test any other endpoint. I started to see progress when apparently no errors showed up when trying to add an amiSet, but to check if it really worked I needed the listing function, then the view function. After making this work, edit and delete were the final ones. A <a href="https://github.com/taskcluster/taskcluster-tools/pull/121" target="_blank" rel="nofollow noopener noreferrer">first version</a> is already being reviewed and hopefully it will be published soon. We still have a lot of improvements to make but it seems good enough to move forward and start to incorporate the amiSets in the AWS provisioner architecture.</p>
<p>Even after testing the AMI sets entity endpoints in the back end, I wasn't sure if it was really working because I could only see that it passed the tests that I have built, but I couldn't really see the amiSets (<em>and I must say I'm a very visual person</em>) but now with the tool I finally can see them, and it is grateful to see that what you're doing is working! - until it breaks something, of course.</p>
</div><footer class="flex flex-wrap pb-10 sm:pb-16"><div><a href="/tag/outreachy/" class="inline-block text-teal-400 hover:text-white hover:bg-teal-400 border border-teal-400 font-sans font-bold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-color transition-bg"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" class="inline w-3 fill-current align-middle mr-1"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg>
          outreachy
          </a><a href="/tag/FOSS/" class="inline-block text-teal-400 hover:text-white hover:bg-teal-400 border border-teal-400 font-sans font-bold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-color transition-bg"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" class="inline w-3 fill-current align-middle mr-1"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg>
          FOSS
          </a><a href="/tag/taskcluster/" class="inline-block text-teal-400 hover:text-white hover:bg-teal-400 border border-teal-400 font-sans font-bold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-color transition-bg"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" class="inline w-3 fill-current align-middle mr-1"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg>
          taskcluster
          </a><a href="/tag/Mozilla/" class="inline-block text-teal-400 hover:text-white hover:bg-teal-400 border border-teal-400 font-sans font-bold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-color transition-bg"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" class="inline w-3 fill-current align-middle mr-1"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg>
          Mozilla
          </a></div><div class="flex flex-wrap items-center justify-center sm:justify-left border-t border-b border-gray-300 w-full mt-10 py-10 sm:px-16"><figure class="px-2 mb-1 sm:mb-0 w-full sm:w-1/5 flex justify-center"><a href="/author/anarute/"><img src="/images/authors/anarute.png" alt="anarute" width="100" class="rounded-full p-4 sm:p-0"></a></figure><div class="px-4 sm:w-4/5 text-center sm:text-left"><h4 class="font-sans font-bold text-lg sm:text-xl mb-2 sm:mb-4"><a href="/author/anarute/" class="text-black hover:text-gray-600 border-b-2 border-transparent transition-color">Anarute</a></h4><p class="leading-normal"><a href="/author/anarute/" class="text-blue-500 hover:text-blue-400 transition-color">See all posts by Anarute →</a></p></div></div></footer><div id="disqus_thread"></div></article><footer class="text-gray-700 text-sm leading-normal flex flex-wrap justify-between mx-auto max-w-3xl px-6 sm:px-12 pb-8 sm:pb-10"><div class="w-full sm:w-1/2 mb-4 sm:mb-0"><p>Based on <a href="https://github.com/cossssmin/gridsome-starter-bleda" class="border-b border-transparent hover:border-gray-400 transition-border-color">Bleda</a> by <a href="https://twitter.com/cossssmin" class="border-b border-transparent hover:border-gray-400 transition-border-color">@cossssmin</a></p></div><div class="w-full sm:w-1/2"><nav><ul class="flex sm:justify-end -mx-2"><li class="px-2"><a href="/" class="border-b border-transparent hover:border-gray-400 transition-border-color active">Home</a></li><li class="px-2"><a href="/about/" class="border-b border-transparent hover:border-gray-400 transition-border-color">About</a></li><li class="px-2"><a href="/sitemap.xml" class="border-b border-transparent hover:border-gray-400 transition-border-color">Sitemap</a></li><li class="px-2"><a href="/feed.xml" class="border-b border-transparent hover:border-gray-400 transition-border-color">RSS Feed</a></li></ul></nav></div></footer></main></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"How to manage AMI sets","slug":"how-to-manage-ami-sets","datetime":"2016-07-22 14:30:43","content":"\u003Cp\u003EAfter finishing the first version of the \u003Ca href=\"http:\u002F\u002Fanarute.com\u002Fthe-amiset-entity\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EAMI sets entity\u003C\u002Fa\u003E, now we need to be able to manage them.\u003C\u002Fp\u003E\n\u003Cp\u003ETaskcluster has already a set of tools to manage its components and elements: the \u003Ca href=\"https:\u002F\u002Ftools.taskcluster.net\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Etaskcluster tools\u003C\u002Fa\u003E. In order to manage the AMI sets it was natural to build a tool for that. At first, our main goal is to build a minimal tool that allows us to list all the AMI sets known to the AWS provisioner and to add, edit and delete AMI sets.\u003C\u002Fp\u003E\n\u003Cp\u003EThe final shape of an AMI set is this:\u003C\u002Fp\u003E\n\u003Cpre\u003E\"amis\": \n  [\n    {\n      \"region\": \"us-west-1\",\n      \"hvm\": \"ami-111\",\n      \"pv\": \"ami-222\"\n    }\n  ]\n\u003C\u002Fpre\u003E\n\u003Cp\u003EThe ideal way to manage this is to allow the user to edit each field separately and check if the AMIs are valid automatically, but for now we are editing it as a JSON object since the back end already checks if the data is valid.\u003C\u002Fp\u003E\n\u003Cp\u003EThe taskcluster tools are built with \u003Ca href=\"https:\u002F\u002Ffacebook.github.io\u002Freact\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EReact\u003C\u002Fa\u003E and before this project I have never built anything with it. So to start, there's no better way than compare how all the other tools are built. I knew that I needed to figure out how to list the amiSets and how to embed a code editor to be used to edit and create amiSets, so my main examples were the \u003Ca href=\"https:\u002F\u002Ftools.taskcluster.net\u002Fauth\u002Froles\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ERoles tool\u003C\u002Fa\u003E and the text editor from \u003Ca href=\"https:\u002F\u002Ftools.taskcluster.net\u002Ftask-creator\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ETask Creator tool\u003C\u002Fa\u003E. The editor used in taskcluster tools is \u003Ca href=\"http:\u002F\u002Fcodemirror.net\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ECodeMirror,\u003C\u002Fa\u003E a text editor built in javascript for the browser.\u003C\u002Fp\u003E\n\u003Cp\u003EMy first step was to build the add amiSet function - after all, without amiSets I cannot test any other endpoint. I started to see progress when apparently no errors showed up when trying to add an amiSet, but to check if it really worked I needed the listing function, then the view function. After making this work, edit and delete were the final ones. A \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftaskcluster\u002Ftaskcluster-tools\u002Fpull\u002F121\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Efirst version\u003C\u002Fa\u003E is already being reviewed and hopefully it will be published soon. We still have a lot of improvements to make but it seems good enough to move forward and start to incorporate the amiSets in the AWS provisioner architecture.\u003C\u002Fp\u003E\n\u003Cp\u003EEven after testing the AMI sets entity endpoints in the back end, I wasn't sure if it was really working because I could only see that it passed the tests that I have built, but I couldn't really see the amiSets (\u003Cem\u003Eand I must say I'm a very visual person\u003C\u002Fem\u003E) but now with the tool I finally can see them, and it is grateful to see that what you're doing is working! - until it breaks something, of course.\u003C\u002Fp\u003E\n","description":"","timeToRead":2,"cover":"","fullscreen":false,"author":{"id":"anarute","title":"anarute","path":"\u002Fauthor\u002Fanarute"},"tags":[{"id":"outreachy","title":"outreachy","path":"\u002Ftag\u002Foutreachy"},{"id":"FOSS","title":"FOSS","path":"\u002Ftag\u002FFOSS"},{"id":"taskcluster","title":"taskcluster","path":"\u002Ftag\u002Ftaskcluster"},{"id":"Mozilla","title":"Mozilla","path":"\u002Ftag\u002FMozilla"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.c1188a8c.js" defer></script><script src="/assets/js/page--src--templates--post-vue.0cc5932c.js" defer></script>
  </body>
</html>
