<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="lang,class">
  <head>
    <title data-vue-tag="true">Posts tagged &quot;sysadmin&quot; | Ana Rute</title><meta data-vue-tag="true" charset="utf-8"><meta data-vue-tag="true" name="generator" content="Gridsome v0.6.7"><meta data-vue-tag="true" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="true" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="true" data-key="description" name="description" content="Browse posts tagged &quot;sysadmin&quot;"><meta data-vue-tag="true" property="og:type" content="website"><meta data-vue-tag="true" property="og:title" content="Posts tagged &quot;sysadmin&quot;"><meta data-vue-tag="true" property="og:description" content="Browse posts tagged &quot;sysadmin&quot;"><meta data-vue-tag="true" property="og:url" content="https://anarute.com//tag/sysadmin/"><meta data-vue-tag="true" property="og:image" content="https://anarute.com/images/card.png"><meta data-vue-tag="true" name="twitter:card" content="summary_large_image"><meta data-vue-tag="true" name="twitter:title" content="Posts tagged &quot;sysadmin&quot;"><meta data-vue-tag="true" name="twitter:description" content="Browse posts tagged &quot;sysadmin&quot;"><meta data-vue-tag="true" name="twitter:site" content="@ana_rute"><meta data-vue-tag="true" name="twitter:creator" content="@ana_rute"><meta data-vue-tag="true" name="twitter:image" content="https://anarute.com/images/card.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.1dbd3df.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.1dbd3df.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.1dbd3df.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.1dbd3df.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.1dbd3df.png"><link data-vue-tag="true" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:400,700%7CCardo"><noscript data-vue-tag="true" ><style>.g-image--loading{display:none;}</style></noscript><link rel="preload" href="/assets/css/8.styles.387d894c.css" as="style"><link rel="preload" href="/assets/js/app.a9924e7f.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--tag-vue.200fbabe.js" as="script"><link rel="prefetch" href="/assets/js/10.ae06d815.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.9f2b73be.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.fe704e0d.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.bb4189b4.js"><link rel="prefetch" href="/assets/js/page--src--templates--author-vue.c099dc23.js"><link rel="prefetch" href="/assets/js/page--src--templates--post-vue.e45f32ee.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--index-vue~page--src--templates--author-vue~page--src--templates--post-vue~~a0fae544.1140ed21.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--post-vue.9e200ee8.js"><link rel="stylesheet" href="/assets/css/8.styles.387d894c.css">
  </head>
  <body class="antialiased font-serif" data-vue-tag="class">
    <div data-server-rendered="true" id="app"><main><header><div class="max-w-xl md:max-w-3xl xl:max-w-4xl flex flex-col-reverse mx-auto text-center px-6 pt-24 pb-10 md:py-32 border-b border-gray-300"><p class="text-gray-700 leading-normal">1 posts in total</p><h1 class="text-4xl sm:text-5xl md:text-6xl font-sans font-bold mb-2">sysadmin</h1><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" aria-labelledby="tagIcon" class="w-5 sm:w-6 fill-current text-gray-500 mx-auto mb-1"><title id="tagIcon">Posts tagged</title><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg></div><nav class="absolute top-0 left-0 z-20 mt-6 ml-6"><a href="/" class="text-sm border text-gray-900 border-gray-400 opacity-75 hover:opacity-100 rounded-full px-4 py-2 transition-opacity active">← Home</a></nav></header><section><article><div class="mx-auto max-w-3xl px-6"><div class="py-8 sm:py-20 border-b border-gray-300"><header class="text-center mb-8"><time datetime="2017-02-24 14:30:43" class="text-gray-700 text-xs mb-2 uppercase">24 February, 2017</time><h2 class="text-3xl sm:text-4xl leading-tight font-sans mb-1 sm:mb-2"><a href="/como-restaurar-backups-em-um-banco-postgresql/" class="text-black font-bold">Como restaurar backups em um banco PostgreSQL</a></h2><p class="text-gray-700 leading-normal text-sm sm:text-base"><span>by <a href="/author/anarute/" class="text-gray-700 border-b border-transparent hover:border-gray-400 transition-border-color">anarute</a></span><!----></p></header><p class="leading-normal text-gray-700 text-lg px-2 sm:px-4 md:px-10">De tempos em tempos eu preciso restaurar um backup de algum banco para outro ou
preencher o banco de um novo ambiente de desenvolvimento local com dados
para testes. Como não é uma tarefa diária, nem sempre me lembro como faz, então
resolvi juntar aqui o passo a passo até pra fac ...</p></div></div></article></section><!----><footer class="text-gray-700 text-sm leading-normal flex flex-wrap justify-between mx-auto max-w-3xl px-6 sm:px-12 py-8 sm:py-16"><div class="w-full sm:w-1/2 mb-4 sm:mb-0"><p>Based on <a href="https://github.com/cossssmin/gridsome-starter-bleda" class="border-b border-transparent hover:border-gray-400 transition-border-color">Bleda</a> by <a href="https://twitter.com/cossssmin" class="border-b border-transparent hover:border-gray-400 transition-border-color">@cossssmin</a></p></div><div class="w-full sm:w-1/2"><nav><ul class="flex sm:justify-end -mx-2"><li class="px-2"><a href="/" class="border-b border-transparent hover:border-gray-400 transition-border-color active">Home</a></li><li class="px-2"><a href="/about/" class="border-b border-transparent hover:border-gray-400 transition-border-color">About</a></li><li class="px-2"><a href="/sitemap.xml" class="border-b border-transparent hover:border-gray-400 transition-border-color">Sitemap</a></li><li class="px-2"><a href="/feed.xml" class="border-b border-transparent hover:border-gray-400 transition-border-color">RSS Feed</a></li></ul></nav></div></footer></main></div>
    <script>window.__INITIAL_STATE__={"data":{"tag":{"id":"sysadmin","title":"sysadmin","path":"\u002Ftag\u002Fsysadmin","belongsTo":{"totalCount":1,"pageInfo":{"totalPages":1,"currentPage":1},"edges":[{"node":{"id":"08d6fa1ed3b0b9a9b4632ed5fde766ec","title":"Como restaurar backups em um banco PostgreSQL","datetime":"2017-02-24 14:30:43","path":"\u002Fcomo-restaurar-backups-em-um-banco-postgresql","content":"\u003Cp\u003EDe tempos em tempos eu preciso restaurar um backup de algum banco para outro ou\npreencher o banco de um novo ambiente de desenvolvimento local com dados\npara testes. Como não é uma tarefa diária, nem sempre me lembro como faz, então\nresolvi juntar aqui o passo a passo até pra facilitar nas próximas vezes e talvez\npossa também ajudar alguém.\u003C\u002Fp\u003E\n\u003Cp\u003EAntes de poder restaurar algum backup, precisamos crear o dump! O comando utilizado\npara isso é o \u003Ccode class=\"shiki-inline\" style=\"background: #2e3440; color: #d8dee9\"\u003Epg_dump\u003C\u002Fcode\u003E que já nos devolve um \u003Cem\u003Edump\u003C\u002Fem\u003E da tabela inteira - se\nquiser saber mais \u003Ca href=\"https:\u002F\u002Fwww.postgresql.org\u002Fdocs\u002Fcurrent\u002Fstatic\u002Fapp-pgdump.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Eclique aqui\u003C\u002Fa\u003E\npara ler a documentação.\u003C\u002Fp\u003E\n\u003Cpre\u003Epg_dump dbname \u003E backupfile.sql\u003C\u002Fpre\u003E\n\u003Cp\u003ENo comando acima, extraímos todos os dados do banco (troque \u003Cem\u003Edbname\u003C\u002Fem\u003E pelo nome\nda sua tabela) e jogamos em um arquivo \u003Ccode class=\"shiki-inline\" style=\"background: #2e3440; color: #d8dee9\"\u003E.sql\u003C\u002Fcode\u003E. Pronto, já temos o backup salvo.\n\u003Cstrong\u003EDica:\u003C\u002Fstrong\u003E esse é um jeito bem fácil de manter backup de seus bancos. Recomendo\ncriar um comando que faça esse backup e utilizar o\n\u003Ca href=\"https:\u002F\u002Fhelp.ubuntu.com\u002Fcommunity\u002FCronHowto\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ECron\u003C\u002Fa\u003E para fazer isso\nautomaticamente sempre.\u003C\u002Fp\u003E\n\u003Cp\u003EPara restaurar o backup num banco, o postegres também nos permite fazer isso de\num jeito bem simples, mas tem alguns detalhes:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003Eo banco precisa existir com o mesmo nome do banco que foi extraído.\u003C\u002Fli\u003E\n\u003Cli\u003Eo banco não pode ter as tabelas criadas, senão vai dar conflito e a\nrestauração não vai dar certo.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003ENesse caso, se o banco já existir primeiro eu dou \u003Ccode class=\"shiki-inline\" style=\"background: #2e3440; color: #d8dee9\"\u003Edropdb db_name\u003C\u002Fcode\u003E que vai\ndeletar o banco (\u003Cstrong\u003EIMPORTANTE\u003C\u002Fstrong\u003E, eu só faço isso em bancos locais, porque isso\napaga \u003Cstrong\u003Etodos os dados\u003C\u002Fstrong\u003E do banco, então \u003Cstrong\u003ENUNCA\u003C\u002Fstrong\u003E faça isso em produção a menos\nque você saiba exatamente o que está fazendo. Dá justa causa, hein? Deus tá\nvendo). Depois de deletar, precisamos recriá-la senão a restauração não vai\nfuncionar por não encontrar o banco. Para recriá-lo: \u003Ccode class=\"shiki-inline\" style=\"background: #2e3440; color: #d8dee9\"\u003Ecreatedb db_name\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EPor fim, para restaurar os dados, jogamos o arquivo no novo banco:\u003C\u002Fp\u003E\n\u003Cpre\u003Epsql dbname \u003C infile\u003C\u002Fpre\u003E\n\u003Cp\u003EPronto, temos um banco restaurado! Para mim esse processo é fundamental em dois\nmomentos: quando por algum motivo - normalmente tenso - eu preciso restaurar o\nbanco em produção ou quando vou começar um novo ambiente de desenvolvimento e\npreciso de dados para testar o app e as mudanças que estou fazendo.\u003C\u002Fp\u003E\n","excerpt":"","description":"Guia básico para criar e restaurar um dump de um banco em PostgreSQL","author":{"id":"anarute","title":"anarute","path":"\u002Fauthor\u002Fanarute"}}}]}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.a9924e7f.js" defer></script><script src="/assets/js/page--src--templates--tag-vue.200fbabe.js" defer></script>
  </body>
</html>
